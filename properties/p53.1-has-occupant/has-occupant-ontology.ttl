# TTL Additions for gmn:P53_1_has_occupant
# Ready-to-copy snippets for gmn_ontology.ttl

# ==============================================================================
# PROPERTY DEFINITION
# ==============================================================================
# Insert this block after gmn:P22_1_has_owner and before gmn:P122_1_borders_with

# Property: P53.1 has occupant
gmn:P53_1_has_occupant
    a owl:ObjectProperty ;
    a rdf:Property ;
    rdfs:label "P53.1 has occupant"@en ;
    rdfs:comment "Simplified property for expressing occupation/residence in a building by a person who is not the owner. Represents the full CIDOC-CRM path: E22_Human-Made_Object > P53i_is_former_or_current_location_of > E9_Move > P25_moved > E21_Person. This property captures residence/occupation relationships through move events. This property is provided as a convenience for data entry and should be transformed to the full CIDOC-CRM structure for formal compliance. This is distinct from ownership."@en ;
    rdfs:subPropertyOf cidoc:P53i_is_former_or_current_location_of ;
    rdfs:domain gmn:E22_1_Building ;
    rdfs:range cidoc:E21_Person ;
    dcterms:created "2025-10-16"^^xsd:date ;
    rdfs:seeAlso cidoc:P53i_is_former_or_current_location_of, cidoc:P25_moved .

# ==============================================================================
# COMPLETE CONTEXT (for reference)
# ==============================================================================
# Shows where this property fits in the overall ontology structure

# ... preceding properties ...

# Property: P22.1 has owner
gmn:P22_1_has_owner
    a owl:ObjectProperty ;
    a rdf:Property ;
    rdfs:label "P22.1 has owner"@en ;
    rdfs:comment "Simplified property for expressing ownership of a building or moveable property by a person. Represents the full CIDOC-CRM path: E22_Human-Made_Object > P24i_changed_ownership_through > E8_Acquisition > P22_transferred_title_to > E21_Person. This property captures ownership relationships through acquisition events. This property is provided as a convenience for data entry and should be transformed to the full CIDOC-CRM structure for formal compliance. Applies to both buildings (E22.1) and moveable property (E22.2)."@en ;
    rdfs:subPropertyOf cidoc:P24i_changed_ownership_through ;
    rdfs:domain cidoc:E22_Human-Made_Object ;
    rdfs:range cidoc:E21_Person ;
    dcterms:created "2025-10-16"^^xsd:date ;
    rdfs:seeAlso cidoc:P24i_changed_ownership_through, cidoc:P22_transferred_title_to .

# Property: P53.1 has occupant
gmn:P53_1_has_occupant
    a owl:ObjectProperty ;
    a rdf:Property ;
    rdfs:label "P53.1 has occupant"@en ;
    rdfs:comment "Simplified property for expressing occupation/residence in a building by a person who is not the owner. Represents the full CIDOC-CRM path: E22_Human-Made_Object > P53i_is_former_or_current_location_of > E9_Move > P25_moved > E21_Person. This property captures residence/occupation relationships through move events. This property is provided as a convenience for data entry and should be transformed to the full CIDOC-CRM structure for formal compliance. This is distinct from ownership."@en ;
    rdfs:subPropertyOf cidoc:P53i_is_former_or_current_location_of ;
    rdfs:domain gmn:E22_1_Building ;
    rdfs:range cidoc:E21_Person ;
    dcterms:created "2025-10-16"^^xsd:date ;
    rdfs:seeAlso cidoc:P53i_is_former_or_current_location_of, cidoc:P25_moved .

# Property: P122.1 borders with
gmn:P122_1_borders_with
    a owl:ObjectProperty ;
    a rdf:Property ;
    rdfs:label "P122.1 borders with"@en ;
    rdfs:comment "Simplified property for expressing spatial adjacency between buildings. Represents that one building is physically adjacent to or borders another building. This is a symmetric relationship - if Building A borders Building B, then Building B borders Building A. This property extends the CIDOC-CRM path for spatial relationships between human-made objects."@en ;
    rdfs:subPropertyOf cidoc:P122_borders_with ;
    rdfs:domain gmn:E22_1_Building ;
    rdfs:range gmn:E22_1_Building ;
    dcterms:created "2025-10-16"^^xsd:date ;
    rdfs:seeAlso cidoc:P122_borders_with ;
    a owl:SymmetricProperty .

# ... following properties ...

# ==============================================================================
# NAMESPACE DECLARATIONS (verify these are present in your file header)
# ==============================================================================

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix cidoc: <http://www.cidoc-crm.org/cidoc-crm/> .
@prefix gmn: <http://example.org/gmn/> .

# ==============================================================================
# USAGE EXAMPLES (for testing/documentation)
# ==============================================================================

# Example 1: Single occupant
<http://example.org/building/palazzo_medici>
    a gmn:E22_1_Building ;
    gmn:P1_1_has_name "Palazzo Medici" ;
    gmn:P53_1_has_occupant <http://example.org/person/lorenzo_medici> .

# Example 2: Multiple occupants
<http://example.org/building/casa_martelli>
    a gmn:E22_1_Building ;
    gmn:P1_1_has_name "Casa Martelli" ;
    gmn:P53_1_has_occupant 
        <http://example.org/person/niccolo_martelli> ,
        <http://example.org/person/maria_martelli> ,
        <http://example.org/person/francesco_martelli> .

# Example 3: Owner vs. Occupant distinction
<http://example.org/building/rental_house>
    a gmn:E22_1_Building ;
    gmn:P1_1_has_name "House on Via Santo Spirito" ;
    gmn:P22_1_has_owner <http://example.org/person/giovanni_owner> ;
    gmn:P53_1_has_occupant <http://example.org/person/paolo_tenant> .

# ==============================================================================
# VALIDATION QUERIES (SPARQL examples)
# ==============================================================================

# Query 1: Find all buildings and their occupants
# SELECT ?building ?buildingName ?occupant ?occupantName
# WHERE {
#     ?building a gmn:E22_1_Building ;
#               gmn:P1_1_has_name ?buildingName ;
#               gmn:P53_1_has_occupant ?occupant .
#     ?occupant gmn:P1_1_has_name ?occupantName .
# }

# Query 2: Find buildings with multiple occupants
# SELECT ?building (COUNT(?occupant) AS ?occupantCount)
# WHERE {
#     ?building a gmn:E22_1_Building ;
#               gmn:P53_1_has_occupant ?occupant .
# }
# GROUP BY ?building
# HAVING (COUNT(?occupant) > 1)

# Query 3: Find persons who both own and occupy the same building
# SELECT ?person ?building
# WHERE {
#     ?building gmn:P22_1_has_owner ?person ;
#               gmn:P53_1_has_occupant ?person .
# }

# Query 4: Find buildings with occupants but no owner recorded
# SELECT ?building
# WHERE {
#     ?building a gmn:E22_1_Building ;
#               gmn:P53_1_has_occupant ?occupant .
#     FILTER NOT EXISTS { ?building gmn:P22_1_has_owner ?owner }
# }

# ==============================================================================
# INFERENCE RULES (for reasoner support)
# ==============================================================================

# Rule: If a building has an occupant, it is a location for that person
# {
#     ?building gmn:P53_1_has_occupant ?person .
# } => {
#     ?building cidoc:P53_has_former_or_current_location ?person .
# }

# Rule: Occupancy implies the building is used for residential purposes
# (This would require additional type definitions)

# ==============================================================================
# COMPATIBILITY NOTES
# ==============================================================================

# OWL 2 DL Compatibility: YES
# - Uses only OWL 2 DL constructs
# - No undecidable patterns
# - Suitable for reasoning engines

# RDFS Compatibility: YES
# - Uses RDFS vocabulary properly
# - Compatible with RDFS reasoners
# - Standard domain/range declarations

# CIDOC-CRM Compatibility: YES
# - Subproperty of standard CIDOC property
# - Domain and range compatible with CRM
# - Can be transformed to full CRM structure

# ==============================================================================
# MAINTENANCE NOTES
# ==============================================================================

# Version: 1.0
# Created: 2025-10-16
# Last Modified: 2025-10-27
# Status: Production Ready
# Dependencies:
#   - cidoc:P53i_is_former_or_current_location_of (parent property)
#   - cidoc:P25_moved (related property)
#   - cidoc:E21_Person (range class)
#   - gmn:E22_1_Building (domain class)

# Change Log:
# - 2025-10-16: Initial definition
# - 2025-10-27: Documentation and validation added

# Known Issues: None

# Future Enhancements:
# - Consider adding temporal constraints
# - May add subproperties for specific occupancy types
# - Possible integration with P74 (has current or former residence)

# ==============================================================================
# END OF TTL ADDITIONS
# ==============================================================================
