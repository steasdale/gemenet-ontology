# GMN P1.1 has_name Property - TTL Additions

# This file contains TTL snippets for the gmn:P1_1_has_name property.
# The property is ALREADY PRESENT in the gmn_ontology.ttl file.
# This file is provided as reference and for documentation purposes.

# ============================================================================
# NAMESPACE DECLARATIONS
# ============================================================================

@prefix gmn: <http://www.genoesemerchantnetworks.com/ontology#> .
@prefix cidoc: <http://www.cidoc-crm.org/cidoc-crm/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix aat: <http://vocab.getty.edu/page/aat/> .

# ============================================================================
# PROPERTY DEFINITION
# ============================================================================
# Location in gmn_ontology.ttl: Approximately line 280
# Status: Already implemented (created 2025-10-16, modified 2025-10-17)
# ============================================================================

# Property: P1.1 has name
gmn:P1_1_has_name 
    a owl:DatatypeProperty ;
    a rdf:Property ;
    rdfs:label "P1.1 has name"@en ;
    rdfs:comment "Simplified property for expressing the name of any entity in the database (persons, places, things, contracts, etc.). Represents the full CIDOC-CRM path: E1_CRM_Entity > P1_is_identified_by > E41_Appellation > P2_has_type <http://vocab.getty.edu/aat/300404650> > P190_has_symbolic_content. This property is provided as a convenience for data entry and should be transformed to the full CIDOC-CRM structure for formal compliance. The appellation type is automatically set to AAT 300404650 (names)."@en ;
    rdfs:subPropertyOf cidoc:P1_is_identified_by ;
    rdfs:domain cidoc:E1_CRM_Entity ;
    rdfs:range cidoc:E62_String ;
    dcterms:created "2025-10-16"^^xsd:date ;
    dcterms:modified "2025-10-17"^^xsd:date ;
    rdfs:seeAlso cidoc:P1_is_identified_by, cidoc:P190_has_symbolic_content, aat:300404650 ;
    owl:equivalentProperty [
        a owl:Restriction ;
        owl:onProperty cidoc:P1_is_identified_by ;
        owl:allValuesFrom [
            a owl:Restriction ;
            owl:onProperty cidoc:P190_has_symbolic_content ;
            owl:hasValue cidoc:E62_String
        ]
    ] ;
    gmn:hasImplicitType aat:300404650 .

# ============================================================================
# USAGE EXAMPLES
# ============================================================================

# Example 1: Person with a name
# ----------------------------------------------------------------------------
<http://example.org/persons/spinola_giacomo>
    a cidoc:E21_Person ;
    gmn:P1_1_has_name "Giacomo Spinola" .

# After transformation, this becomes:
<http://example.org/persons/spinola_giacomo>
    a cidoc:E21_Person ;
    cidoc:P1_is_identified_by <http://example.org/persons/spinola_giacomo/appellation/12345678> .

<http://example.org/persons/spinola_giacomo/appellation/12345678>
    a cidoc:E41_Appellation ;
    cidoc:P2_has_type aat:300404650 ;
    cidoc:P190_has_symbolic_content "Giacomo Spinola" .

aat:300404650 a cidoc:E55_Type .

# Example 2: Place with a name
# ----------------------------------------------------------------------------
<http://example.org/places/genoa>
    a cidoc:E53_Place ;
    gmn:P1_1_has_name "Genoa" .

# After transformation:
<http://example.org/places/genoa>
    a cidoc:E53_Place ;
    cidoc:P1_is_identified_by <http://example.org/places/genoa/appellation/87654321> .

<http://example.org/places/genoa/appellation/87654321>
    a cidoc:E41_Appellation ;
    cidoc:P2_has_type aat:300404650 ;
    cidoc:P190_has_symbolic_content "Genoa" .

# Example 3: Contract with a name
# ----------------------------------------------------------------------------
<http://example.org/contracts/asl_1450_001>
    a gmn:E31_2_Sales_Contract ;
    gmn:P1_1_has_name "Sale of Building in Via San Lorenzo, 1450" .

# After transformation:
<http://example.org/contracts/asl_1450_001>
    a gmn:E31_2_Sales_Contract ;
    cidoc:P1_is_identified_by <http://example.org/contracts/asl_1450_001/appellation/abcdef12> .

<http://example.org/contracts/asl_1450_001/appellation/abcdef12>
    a cidoc:E41_Appellation ;
    cidoc:P2_has_type aat:300404650 ;
    cidoc:P190_has_symbolic_content "Sale of Building in Via San Lorenzo, 1450" .

# Example 4: Building with a name
# ----------------------------------------------------------------------------
<http://example.org/buildings/palazzo_spinola>
    a gmn:E22_1_Building ;
    gmn:P1_1_has_name "Palazzo Spinola" .

# After transformation:
<http://example.org/buildings/palazzo_spinola>
    a gmn:E22_1_Building ;
    cidoc:P1_is_identified_by <http://example.org/buildings/palazzo_spinola/appellation/fedcba98> .

<http://example.org/buildings/palazzo_spinola/appellation/fedcba98>
    a cidoc:E41_Appellation ;
    cidoc:P2_has_type aat:300404650 ;
    cidoc:P190_has_symbolic_content "Palazzo Spinola" .

# Example 5: Multiple names for the same entity
# ----------------------------------------------------------------------------
<http://example.org/persons/doria_antonio>
    a cidoc:E21_Person ;
    gmn:P1_1_has_name "Antonio Doria", "Antonius de Auria" .

# After transformation, creates two separate appellations:
<http://example.org/persons/doria_antonio>
    a cidoc:E21_Person ;
    cidoc:P1_is_identified_by 
        <http://example.org/persons/doria_antonio/appellation/11111111>,
        <http://example.org/persons/doria_antonio/appellation/22222222> .

<http://example.org/persons/doria_antonio/appellation/11111111>
    a cidoc:E41_Appellation ;
    cidoc:P2_has_type aat:300404650 ;
    cidoc:P190_has_symbolic_content "Antonio Doria" .

<http://example.org/persons/doria_antonio/appellation/22222222>
    a cidoc:E41_Appellation ;
    cidoc:P2_has_type aat:300404650 ;
    cidoc:P190_has_symbolic_content "Antonius de Auria" .

# Example 6: Group with a name
# ----------------------------------------------------------------------------
<http://example.org/groups/genoese_merchants>
    a cidoc:E74_Group ;
    gmn:P1_1_has_name "Genoese Merchants" .

# Example 7: Type/Concept with a name
# ----------------------------------------------------------------------------
<http://example.org/types/sales_transaction>
    a cidoc:E55_Type ;
    gmn:P1_1_has_name "Sales Transaction" .

# ============================================================================
# RELATED AAT CONCEPT
# ============================================================================

aat:300404650 
    a cidoc:E55_Type ;
    rdfs:label "names"@en ;
    rdfs:comment "Words or phrases by which an entity is known" .

# ============================================================================
# COMPARISON WITH OTHER NAME PROPERTIES
# ============================================================================

# P1.1 has name - General names (AAT 300404650)
<http://example.org/persons/p1>
    gmn:P1_1_has_name "Giovanni Spinola" .

# P1.2 has name from source - Historical source names (AAT 300456607)
<http://example.org/persons/p1>
    gmn:P1_2_has_name_from_source "Johaninus Spinula" .

# P1.3 has patrilineal name - Patronymic names (AAT 300404651)
<http://example.org/persons/p1>
    gmn:P1_3_has_patrilineal_name "Giovanni Spinola q. Antonio" .

# All can be used together on the same entity to capture different aspects
<http://example.org/persons/p1>
    a cidoc:E21_Person ;
    gmn:P1_1_has_name "Giovanni Spinola" ;
    gmn:P1_2_has_name_from_source "Johaninus Spinula" ;
    gmn:P1_3_has_patrilineal_name "Giovanni Spinola q. Antonio" .

# ============================================================================
# PROPERTY CHAIN EQUIVALENCE
# ============================================================================

# The shortcut property:
<entity> gmn:P1_1_has_name "Name" .

# Is equivalent to the full CIDOC-CRM pattern:
<entity> 
    cidoc:P1_is_identified_by [
        a cidoc:E41_Appellation ;
        cidoc:P2_has_type aat:300404650 ;
        cidoc:P190_has_symbolic_content "Name"
    ] .

# ============================================================================
# SPARQL PATTERN EXAMPLES
# ============================================================================

# Pattern 1: Query before transformation (using shortcut)
# SELECT ?entity ?name
# WHERE {
#   ?entity gmn:P1_1_has_name ?name .
# }

# Pattern 2: Query after transformation (using full CIDOC-CRM)
# SELECT ?entity ?name
# WHERE {
#   ?entity cidoc:P1_is_identified_by ?appellation .
#   ?appellation cidoc:P2_has_type aat:300404650 ;
#                cidoc:P190_has_symbolic_content ?name .
# }

# ============================================================================
# VALIDATION QUERIES
# ============================================================================

# Query to find all entities using P1.1 has name (before transformation)
# SELECT ?entity ?name
# WHERE {
#   ?entity gmn:P1_1_has_name ?name .
# }

# Query to validate transformed appellations
# SELECT ?entity ?appellation ?name
# WHERE {
#   ?entity cidoc:P1_is_identified_by ?appellation .
#   ?appellation a cidoc:E41_Appellation ;
#                cidoc:P2_has_type aat:300404650 ;
#                cidoc:P190_has_symbolic_content ?name .
# }

# Query to find entities with missing name content
# SELECT ?appellation
# WHERE {
#   ?entity cidoc:P1_is_identified_by ?appellation .
#   ?appellation cidoc:P2_has_type aat:300404650 .
#   FILTER NOT EXISTS { ?appellation cidoc:P190_has_symbolic_content ?name }
# }

# ============================================================================
# NOTES
# ============================================================================

# NOTE 1: The property definition above is already in gmn_ontology.ttl
#         Do not add it again unless you are updating the version.

# NOTE 2: The transformation from gmn:P1_1_has_name to the full CIDOC-CRM
#         structure is handled automatically by the gmn_to_cidoc_transform.py
#         script. No manual transformation is needed.

# NOTE 3: The appellation URIs are generated programmatically using a hash
#         of the name value, ensuring uniqueness and consistency.

# NOTE 4: This property has a very broad domain (E1_CRM_Entity), meaning
#         it can be used with any CIDOC-CRM entity class.

# NOTE 5: Multiple names can be assigned to the same entity. Each name
#         will be transformed into a separate E41_Appellation resource.

# NOTE 6: Empty name values are filtered out during transformation and
#         will not create appellation resources.

# NOTE 7: The AAT type (300404650) is automatically assigned during
#         transformation and does not need to be specified in the input data.

# ============================================================================
# ADDITIONAL RESOURCES
# ============================================================================

# Getty AAT Entry for "names": http://vocab.getty.edu/page/aat/300404650
# CIDOC-CRM Documentation: http://www.cidoc-crm.org/
# GMN Ontology Documentation: See has-name-documentation.md
# Implementation Guide: See has-name-implementation-guide.md
# Python Transformation Code: See has-name-transform.py

# ============================================================================
# END OF FILE
# ============================================================================
